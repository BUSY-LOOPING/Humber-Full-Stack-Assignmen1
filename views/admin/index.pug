extends ../template

block layout-content
    div(class="py-6 bg-gray-100")
        div(class={
            'max-w-7xl': true,
            'mx-auto': true,
            'px-4': true,
            'sm:px-6': screenWidth >= 640,
            'lg:px-8': screenWidth >= 1024
        })
            // Stats section
            section(class="grid grid-cols-1 md:grid-cols-3 gap-5 mb-8")
                div(class="bg-white p-6 rounded-lg shadow-md border-l-4 border-blue-500")
                    h3.text-lg.font-semibold.mb-2 Products
                    p.text-gray-700.font-bold #{productCount} items
                div(class="bg-white p-6 rounded-lg shadow-md border-l-4 border-green-500")
                    h3.text-lg.font-semibold.mb-2 Categories
                    p.text-gray-700.font-bold #{categoryCount} categories
                div(class="bg-white p-6 rounded-lg shadow-md border-l-4 border-purple-500")
                    h3.text-lg.font-semibold.mb-2 Total Revenue
                    p.text-gray-700.font-bold $12,345.67

            // Categories section
            section
                h2.text-xl.font-semibold.mb-4 
                    a(href="/admin/categories") Categories
                button(type="button", class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded mb-4")
                    a(href="/admin/categories/new" class="text-white") Create New Category
                table.w-full.border-collapse.border
                    thead
                        tr
                            th Name
                            th Description
                            th Actions
                    tbody
                        each category in categories
                            tr
                                td= category.name
                                td= category.description
                                td
                                    button(type="button", class="bg-yellow-500 hover:bg-yellow-700 text-white font-bold py-1 px-2 rounded mr-2") 
                                        a(href=`/admin/categories/${category._id}/edit`) Edit
                                    button(type="button", class="bg-red-500 hover:bg-red-700 text-white font-bold py-1 px-2 rounded") 
                                        a(href=`/admin/categories/${category._id}/delete`) Delete

            // Products section
            section
                h2.text-xl.font-semibold.mb-4 
                    a(href="/admin/products") Products
                button(type="button", class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded mb-4")
                    a(href="/admin/products/new" class="text-white") Create New Product
                table.w-full.border-collapse.border
                    thead
                        tr
                            th Name
                            th Description
                            th Price
                            th Category
                            th Image
                            th Actions
                    tbody
                        each product in products
                            tr
                                td= product.name
                                td= product.description
                                td= product.price
                                td= product.category.name
                                td
                                    img(src=product.imageUrl, alt=product.name, class="w-16 h-16 object-cover rounded")
                                td
                                    button(type="button", class="bg-yellow-500 hover:bg-yellow-700 text-white font-bold py-1 px-2 rounded mr-2") 
                                        a(href=`/admin/products/${product._id}/edit`) Edit
                                    button(type="button", class="bg-red-500 hover:bg-red-700 text-white font-bold py-1 px-2 rounded") 
                                        a(href=`/admin/products/${product._id}/delete`) Delete

